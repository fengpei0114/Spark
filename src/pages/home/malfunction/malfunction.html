<ion-header style="text-align:center" no-border>
    <ion-navbar style="min-height:0px">
        <ion-title>查看故障</ion-title>
        <ion-buttons end>
                <button ion-button icon-only>
                    <ion-icon name="menue"></ion-icon>
                </button>
            </ion-buttons>
    </ion-navbar>
    <ion-row id = "row1">
            <ion-col class = "buttonclass" col-6 id = "rowcol1" >
                <button ion-button color="dark" clear (click)="ischoose(0)" id = "btn1">
                    <ion-label id="ionlabel1">{{plant_name}}</ion-label>
                    <ion-icon name = "md-arrow-dropdown" id = "ion1"></ion-icon>
                </button>
            </ion-col>
            <ion-col class = "buttonclass" col-6 id = "rowcol2" >
                <button ion-button color="dark" clear (click)="ischoose(1)">
                    <ion-label id="ionlabel2">{{equipment_name}}</ion-label>
                    <ion-icon name = "md-arrow-dropdown"></ion-icon>
                </button>
            </ion-col>
        </ion-row>
</ion-header> 


<ion-content class = "padding">
    <div style="position:relative">
        <div *ngIf="isplant" id = "equipmentdiv">
                <button ion-button clear *ngFor="let item of factoryArray" id = "equipmentbtn1" name="{{item.id}}" (click)="plantChoose(item.id)">{{item.name}}</button>
            
            
        </div>
        <div *ngIf="isequipment" id = "equipmentdiv">
                <button ion-button clear *ngFor="let item of equipmentArray"  (click)="equipmentChoose(item.id)" style="color: #000;">{{item.name}}</button>
            
        </div>
        <div *ngIf="isequipment||isplant" class="equAndRecoBt" (click)="changestatus()">
        </div>
        <div style="position:absolute;width:100%;">
            <ion-card *ngFor="let item of malfunctionArray" style="border-radius:15px;background:#f8f8f8" (click) = "gotomalfunctionDetail(item)">
                <ion-title style="padding-left:5px;padding-top:10px;padding-bottom:10px;">{{item.datetimeStart}}-{{item.datetimeEnd}}</ion-title>
                <ion-grid style="border-top:1px solid #000000">
                    <ion-row>
                        <ion-col col-6>
                            <ion-row style="padding-left:10px">
                                {{item.name}}
                            </ion-row>
                            <ion-row style="padding-left:10px">
                                {{item.Ename}}
                            </ion-row>
                        </ion-col>
                        <ion-col col-6 style="text-align:center">{{item.malfunctionType}}</ion-col>
                    </ion-row>
                    <ion-row>
                        
                    </ion-row>
                </ion-grid>
            </ion-card>

        </div>
    </div>

</ion-content>