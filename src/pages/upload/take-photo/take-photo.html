<!--
  Generated template for the TakePhoto page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar color="primary" style="text-align:center">
        <ion-title>
            选择照片上传
        </ion-title>
        <ion-buttons start>
            <button ion-button (click)="dismiss()">
                <span showWhen="ios"></span>
                <ion-icon ios="ios-close" showWhen="ios,android,windows,landscape"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content padding text-center>

    <ion-list>
        <ion-item>
            <ion-label>选择网格</ion-label>
            <ion-select  name="oraganization" [(ngModel)]="organization" (ionChange)="organChange()">
                <ion-option  [value]="organizationId" *ngIf="isHomeToUpload" selected="true" disabled>{{organizationName}}</ion-option>
                <ion-option  [value]="organizationId" *ngIf="isTaskToUpload" selected="true" disabled>{{organizationName}}</ion-option>
                <ion-option *ngFor="let item of organData" value="{{item.id}}">{{item.name}}</ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label>选择项目</ion-label>
            <ion-select name="project" [(ngModel)]="project" (ionChange)="projectChange()">
                <ion-option  [value]="projectId" *ngIf="isHomeToUpload" selected="true" disabled>{{projectName}}</ion-option>
                <ion-option  [value]="projectId" *ngIf="isTaskToUpload" selected="true" disabled>{{projectName}}</ion-option>
                <ion-option *ngFor="let item of projectData" value="{{item.id}}">{{item.name}}</ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label>选择采集点</ion-label>
            <ion-select name="collectionPoint" [(ngModel)]="collectionPoint" (ionChange)="collectionPointChange()">
                <ion-option  [value]="collectionPointId" *ngIf="isHomeToUpload" selected="true" disabled>{{collectionPointName}}</ion-option>
                <ion-option *ngFor="let item of collectionData" value="{{item.id}}">{{item.name}}</ion-option>
            </ion-select>
        </ion-item>
    </ion-list>

    <img [src]="avatarPath" width="100%" tappable (click)="getPicture(1)">
    <div padding-top>
        <button ion-button block color="light" tappable (click)="getPicture(0)">从相册选择</button>
    </div>
    <div padding-top>
        <button ion-button block color="light" tappable (click)="getPicture(1)">拍一张照片</button>
    </div>
    <ion-item>
        <ion-label style="font-size: smaller">备注信息:</ion-label>
        <ion-input type="text" [(ngModel)]="note" placeholder="备注信息"></ion-input>
    </ion-item>
    <div padding-top>
        <button type="button" ion-button block (click)="uploadImage()">上传</button>
    </div>
</ion-content>

